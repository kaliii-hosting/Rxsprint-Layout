/* ================================================
   BANNER MULTILINE TEXT SUPPORT
   Ensures proper formatting for multi-line text in banners, titles, and callouts
   ================================================ */

/* Banner text with preserved line breaks */
.content-banner-item .banner-text {
  white-space: pre-wrap !important; /* Preserve spaces and line breaks */
  word-wrap: break-word !important; /* Break long words */
  word-break: break-word !important; /* Break words at any point if needed */
  display: inline-block !important; /* Allow proper text flow */
  max-width: 100% !important;
  line-height: 1.4 !important; /* Better line spacing for multi-line text */
}

/* Ensure banners expand to fit multi-line content */
.content-banner-item {
  min-height: auto !important;
  height: auto !important;
  padding: 0.75rem 1.25rem !important;
  display: inline-flex !important;
  align-items: flex-start !important; /* Align to top for multi-line text */
}

/* Title banners with multi-line support */
.content-banner-item.title-banner {
  display: block !important;
  width: 100% !important;
  padding: 1.2rem 1.5rem !important;
}

.content-banner-item.title-banner .banner-text {
  display: block !important;
  white-space: pre-wrap !important;
  line-height: 1.3 !important;
}

/* Callout banners with multi-line support */
.content-banner-item.callout-banner {
  display: block !important;
  width: 100% !important;
  padding: 1.25rem 1.75rem !important;
}

.content-banner-item.callout-banner .banner-text {
  display: block !important;
  white-space: pre-wrap !important;
  line-height: 1.6 !important;
}

/* Input textarea for banners */
.banner-input-redesign {
  white-space: pre-wrap !important;
  word-wrap: break-word !important;
  line-height: 1.5 !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  resize: vertical !important;
  min-height: 38px !important;
  max-height: 200px !important; /* Allow more space for multi-line input */
}

/* Edit mode input */
.banner-edit-input {
  white-space: pre-wrap !important;
  word-wrap: break-word !important;
  line-height: 1.5 !important;
  resize: vertical !important;
  min-height: 38px !important;
  height: auto !important;
  width: 100% !important;
  border: 2px solid #FF6900 !important;
  border-radius: 6px !important;
  padding: 8px 12px !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  font-size: 14px !important;
  background: #ffffff !important;
  overflow: hidden !important; /* Hide scrollbar, auto-resize handles height */
}

.banner-edit-input:focus {
  outline: none !important;
  border-color: #ff7a1a !important;
  box-shadow: 0 0 0 2px rgba(255, 105, 0, 0.2) !important;
}

/* Banner groups - ensure proper spacing */
.banner-line-wrapper {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
  align-items: flex-start; /* Top align for different height banners */
}

/* Regular banners with icons - vertical centering for icons */
.content-banner-item:not(.title-banner):not(.callout-banner) {
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
}

.content-banner-item:not(.title-banner):not(.callout-banner) .banner-text {
  flex: 1;
  align-self: center; /* Center text vertically */
}

.content-banner-item .banner-icon {
  display: flex !important;
  align-items: center !important;
  flex-shrink: 0 !important;
}

/* Copy functionality - preserve formatting */
.content-banner-item[data-clipboard-text] {
  cursor: pointer;
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .content-banner-item .banner-text {
    line-height: 1.3 !important;
  }
  
  .banner-input-redesign {
    max-height: 150px !important;
  }
}

/* Ensure line breaks are visible in viewer mode */
.note-content .content-banner-item .banner-text {
  white-space: pre-wrap !important;
}

/* Ensure line breaks are visible in edit mode */
.note-content-edit-area .content-banner-item .banner-text {
  white-space: pre-wrap !important;
}

/* PDF export support - might need JavaScript handling */
.pdf-banner-text {
  white-space: pre-wrap !important;
  word-wrap: break-word !important;
}

/* Dark theme support */
[data-theme="dark"] .content-banner-item .banner-text {
  white-space: pre-wrap !important;
}

/* Ensure proper text selection */
.content-banner-item .banner-text::selection {
  background: rgba(255, 105, 0, 0.3);
}

.content-banner-item .banner-text::-moz-selection {
  background: rgba(255, 105, 0, 0.3);
}

/* Fix for banners with very long single words */
.content-banner-item .banner-text {
  overflow-wrap: break-word !important;
  hyphens: auto !important;
}

/* Ensure proper display when editing */
.banner-edit-wrapper {
  width: 100%;
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
  padding: 0.5rem;
  background: rgba(255, 105, 0, 0.05);
  border-radius: 8px;
  border: 1px solid rgba(255, 105, 0, 0.2);
}

.banner-edit-wrapper .banner-edit-input {
  flex: 1;
  white-space: pre-wrap !important;
  word-wrap: break-word !important;
}

.banner-edit-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.banner-edit-btn.save {
  background: #28a745;
  color: white;
}

.banner-edit-btn.save:hover {
  background: #218838;
}

.banner-edit-btn.cancel {
  background: #dc3545;
  color: white;
}

.banner-edit-btn.cancel:hover {
  background: #c82333;
}

/* END OF MULTILINE SUPPORT CSS */