/* CRITICAL OVERRIDES - SUPPLIES ANALYZER TABLES - MAXIMUM SPECIFICITY */

/* ========================================
   PART 1: COMPLETE SCROLLBAR REMOVAL
   ======================================== */

/* Kill ALL scrollbars in supplies section with maximum force */
.analyzer-page .supplies-results-section *,
.analyzer-page .supply-table-section *,
.analyzer-page .supplies-tables-container *,
.analyzer-page .table-wrapper,
.analyzer-page .table-wrapper *,
.supplies-results-section,
.supplies-results-section *,
.supply-table-section,
.supply-table-section * {
  overflow: visible !important;
  overflow-x: visible !important;
  overflow-y: visible !important;
  max-height: none !important;
  height: auto !important;
  -webkit-overflow-scrolling: unset !important;
  -ms-overflow-style: none !important;
  scrollbar-width: none !important;
}

/* Specific table wrapper overrides */
.analyzer-page .supplies-results-section .table-wrapper,
.analyzer-page .supply-table-section .table-wrapper {
  overflow: visible !important;
  overflow-x: visible !important;
  overflow-y: visible !important;
  max-height: none !important;
  min-height: unset !important;
  height: auto !important;
  position: static !important;
  flex: unset !important;
}

/* Remove ALL scrollbar pseudo-elements */
.analyzer-page .table-wrapper::-webkit-scrollbar,
.analyzer-page .supplies-results-section *::-webkit-scrollbar,
.analyzer-page .supply-table-section *::-webkit-scrollbar {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}

/* Force tables to show all content */
.analyzer-page .analysis-table,
.analyzer-page .supplies-results-section table,
.analyzer-page .supply-table-section table {
  display: table !important;
  table-layout: fixed !important;
  width: 100% !important;
  overflow: visible !important;
  max-height: none !important;
}

.analyzer-page .analysis-table tbody,
.analyzer-page .analysis-table thead {
  overflow: visible !important;
  max-height: none !important;
  display: table-row-group !important;
}

/* ========================================
   PART 2: STATUS ROW COLORS - ENTIRE ROW
   ======================================== */

/* MISSING STATUS - Pale Red - Entire Row */
.analyzer-page .supplies-results-section tr.missing-row,
.analyzer-page .supply-table-section tr.missing-row {
  background: #fee2e2 !important;
}

.analyzer-page .supplies-results-section tr.missing-row td,
.analyzer-page .supply-table-section tr.missing-row td {
  background: transparent !important;
  border-color: #fecaca !important;
}

.analyzer-page tr.missing-row:hover {
  background: #fecaca !important;
}

/* CHANGED STATUS - Pale Yellow - Entire Row */
.analyzer-page .supplies-results-section tr.changed-row,
.analyzer-page .supply-table-section tr.changed-row,
.analyzer-page .supplies-results-section tr.quantity-changed-row,
.analyzer-page .supply-table-section tr.quantity-changed-row {
  background: #fef9c3 !important;
}

.analyzer-page .supplies-results-section tr.changed-row td,
.analyzer-page .supply-table-section tr.changed-row td,
.analyzer-page .supplies-results-section tr.quantity-changed-row td,
.analyzer-page .supply-table-section tr.quantity-changed-row td {
  background: transparent !important;
  border-color: #fde68a !important;
}

.analyzer-page tr.changed-row:hover,
.analyzer-page tr.quantity-changed-row:hover {
  background: #fef08a !important;
}

/* MATCHING STATUS - Pale Green - Entire Row */
.analyzer-page .supplies-results-section tr.matched-row,
.analyzer-page .supply-table-section tr.matched-row,
.analyzer-page .supplies-results-section tr.matching-row,
.analyzer-page .supply-table-section tr.matching-row {
  background: #dcfce7 !important;
}

.analyzer-page .supplies-results-section tr.matched-row td,
.analyzer-page .supply-table-section tr.matched-row td,
.analyzer-page .supplies-results-section tr.matching-row td,
.analyzer-page .supply-table-section tr.matching-row td {
  background: transparent !important;
  border-color: #bbf7d0 !important;
}

.analyzer-page tr.matched-row:hover,
.analyzer-page tr.matching-row:hover {
  background: #bbf7d0 !important;
}

/* NEW STATUS - Pale Blue - Entire Row */
.analyzer-page .supplies-results-section tr.new-row,
.analyzer-page .supply-table-section tr.new-row {
  background: #dbeafe !important;
}

.analyzer-page .supplies-results-section tr.new-row td,
.analyzer-page .supply-table-section tr.new-row td {
  background: transparent !important;
  border-color: #bfdbfe !important;
}

.analyzer-page tr.new-row:hover {
  background: #bfdbfe !important;
}

/* ========================================
   PART 3: FONT COLORS - KEEP ORIGINAL
   ======================================== */

/* Preserve all original font colors */
.analyzer-page .supplies-results-section tr td,
.analyzer-page .supply-table-section tr td,
.analyzer-page .supplies-results-section tr th,
.analyzer-page .supply-table-section tr th {
  color: inherit !important;
}

/* Keep status badge text colors */
.analyzer-page .status-badge {
  color: inherit !important;
}

/* Keep changed value text styling */
.analyzer-page .changed-value {
  color: #dc2626 !important; /* Keep red for changed values */
}

/* ========================================
   PART 4: HIDE COLUMNS
   ======================================== */

/* Hide Org column (3rd) */
.analyzer-page .supplies-results-section .analysis-table th:nth-child(3),
.analyzer-page .supplies-results-section .analysis-table td:nth-child(3),
.analyzer-page .supply-table-section .analysis-table th:nth-child(3),
.analyzer-page .supply-table-section .analysis-table td:nth-child(3) {
  display: none !important;
}

/* Hide MD Last Name column (5th) */
.analyzer-page .supplies-results-section .analysis-table th:nth-child(5),
.analyzer-page .supplies-results-section .analysis-table td:nth-child(5),
.analyzer-page .supply-table-section .analysis-table th:nth-child(5),
.analyzer-page .supply-table-section .analysis-table td:nth-child(5) {
  display: none !important;
}

/* ========================================
   PART 5: MOBILE RESPONSIVE
   ======================================== */

@media (max-width: 768px) {
  .analyzer-page .supplies-tables-container {
    flex-direction: column !important;
    padding: 0.5rem !important;
    gap: 1rem !important;
    width: 100% !important;
  }
  
  .analyzer-page .supply-table-section {
    width: 100% !important;
    flex: none !important;
    margin: 0 !important;
  }
  
  .analyzer-page .table-wrapper {
    overflow-x: auto !important; /* Enable horizontal scroll */
    overflow-y: visible !important;
    width: 100% !important;
    max-width: 100% !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  .analyzer-page .analysis-table {
    min-width: 600px !important; /* Increased minimum width */
    width: 100% !important;
    table-layout: fixed !important; /* Use fixed for consistent column widths */
    font-size: 0.75rem !important;
    border-collapse: collapse !important;
  }
  
  /* Make table headers sticky */
  .analyzer-page .analysis-table thead {
    position: sticky;
    top: 0;
    background: var(--bg-primary);
    z-index: 10;
  }
  
  .analyzer-page .analysis-table th,
  .analyzer-page .analysis-table td {
    padding: 0.4rem 0.3rem !important;
    font-size: 0.7rem !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    vertical-align: middle !important;
    height: auto !important;
    line-height: 1.2 !important;
  }
  
  /* Column widths for mobile - optimized */
  .analyzer-page .analysis-table th:nth-child(1),
  .analyzer-page .analysis-table td:nth-child(1) {
    width: 80px !important; /* Status */
  }
  
  .analyzer-page .analysis-table th:nth-child(2),
  .analyzer-page .analysis-table td:nth-child(2) {
    width: 90px !important; /* RX Number */
  }
  
  /* Medication column (4th after hiding 3rd) */
  .analyzer-page .analysis-table th:nth-child(4),
  .analyzer-page .analysis-table td:nth-child(4) {
    width: 180px !important; /* Medication */
  }
  
  /* Strength column (6th after hiding 5th) */
  .analyzer-page .analysis-table th:nth-child(6),
  .analyzer-page .analysis-table td:nth-child(6) {
    width: 80px !important; /* Strength */
  }
  
  .analyzer-page .analysis-table th:nth-child(7),
  .analyzer-page .analysis-table td:nth-child(7) {
    width: 60px !important; /* Form */
  }
  
  .analyzer-page .analysis-table th:nth-child(8),
  .analyzer-page .analysis-table td:nth-child(8) {
    width: 50px !important; /* Qty */
  }
  
  .analyzer-page .analysis-table th:nth-child(9),
  .analyzer-page .analysis-table td:nth-child(9) {
    width: 50px !important; /* Supply */
  }
  
  /* Fix medication column - prevent vertical text */
  .analyzer-page .analysis-table td:nth-child(4) {
    white-space: normal !important; /* Allow wrapping for medication names */
    word-wrap: break-word !important;
    word-break: normal !important; /* Normal word breaking */
    line-height: 1.3 !important;
    overflow: visible !important;
    text-overflow: unset !important;
    display: table-cell !important;
    vertical-align: middle !important;
    max-width: 180px !important;
    min-width: 120px !important;
    text-align: left !important;
    padding-left: 0.5rem !important;
  }
  
  /* Ensure all table cells maintain proper layout except medication */
  .analyzer-page .analysis-table td:not(:nth-child(4)) {
    white-space: nowrap !important;
    vertical-align: middle !important;
  }
  
  /* Status badges mobile optimization */
  .analyzer-page .status-badge {
    font-size: 0.65rem !important;
    padding: 2px 4px !important;
    display: inline-block !important;
    white-space: nowrap !important;
  }
  
  /* Hide less important columns on very small screens */
  @media (max-width: 480px) {
    .analyzer-page .analysis-table th:nth-child(n+7),
    .analyzer-page .analysis-table td:nth-child(n+7) {
      display: none !important;
    }
  }
}

/* ========================================
   PART 6: FINAL OVERRIDE - NUCLEAR OPTION
   ======================================== */

/* Use body selector for ultimate specificity */
body .analyzer-page .supplies-results-section .table-wrapper,
body .analyzer-page .supply-table-section .table-wrapper {
  overflow: visible !important;
  max-height: none !important;
}

/* Override any inline styles */
[style*="overflow"] .table-wrapper {
  overflow: visible !important;
}

/* Ensure summary cards keep their colors */
.analyzer-page .summary-card.total { background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%) !important; }
.analyzer-page .summary-card.matching { background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%) !important; }
.analyzer-page .summary-card.changed { background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%) !important; }
.analyzer-page .summary-card.new { background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%) !important; }
.analyzer-page .summary-card.missing { background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%) !important; }